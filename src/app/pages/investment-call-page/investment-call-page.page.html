<app-filter-bar
  viewName="Danh mục gọi vốn"
  (filterMenuOpened)="onFilterMenuOpened()"
>
  <div desktop class="p-4 min-w-[400px]">
    <app-investment-call-filter
      [data]="filterData"
      (filterApplied)="onFilterApplied($event)"
    ></app-investment-call-filter>
  </div>
  <div mobile class="p-4">
    <app-investment-call-filter
      [data]="filterData"
      (filterApplied)="onFilterApplied($event)"
    ></app-investment-call-filter>
  </div>
</app-filter-bar>

@if (isDesktopView) {
<div class="flex flex-col m-3 gap-y-4">
  <button (click)="openCreateInvestmentCallModal()" class="ml-auto flex items-center gap-2" nz-button nzType="primary">
    <mat-icon fontIcon="add_icon" />
    Tạo Gọi Vốn
  </button>
  <app-investment-call-table [projectId]="projectId" [listInvestmentCall]="listInvestmentCall" [isFetchAllCallLoading]="isFetchAllCallLoading"></app-investment-call-table>
  <div class="hidden md:flex justify-end mt-4">
    <nz-pagination
      [nzTotal]="totalRecords"
      [(nzPageIndex)]="pageIndex"
      [(nzPageSize)]="pageSize"
      [nzShowSizeChanger]="true"
      [nzPageSizeOptions]="[20, 50, 100]"
      (nzPageIndexChange)="onPageIndexChange($event)"
      (nzPageSizeChange)="onPageSizeChange($event)"
    ></nz-pagination>
  </div>
</div>
} @else {
<div class="overflow-y-auto">
  <div (click)="openCreateInvestmentCallModal()" class="flex justify-center items-center absolute right-7 bottom-7 bg-slate-300 min-h-[50px] min-w-[50px] rounded-lg opacity-80">
    <mat-icon fontIcon="add_icon" class="text-white"></mat-icon>
  </div>
  <app-investment-call-list [investmentCallList]="listInvestmentCall" [projectId]="projectId" [isFetchAllCallLoading]="isFetchAllCallLoading"></app-investment-call-list>
</div>
}
