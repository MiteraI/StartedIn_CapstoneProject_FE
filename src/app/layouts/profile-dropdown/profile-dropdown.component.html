<div>
  <div
    [matMenuTriggerFor]="profileMenu"
    class="flex items-center cursor-pointer hover:text-purple-600 rounded py-2 md:px-6"
  >
    <img
      class="max-w-8 max-h-8 rounded-full"
      [src]="account?.profilePicture ?? 'https://w7.pngwing.com/pngs/205/731/png-transparent-default-avatar.png'"
    />
    <div class="items-center hidden md:flex">
      <span class="font-medium ml-4 hidden md:inline">{{ account?.fullName }}</span>
      <mat-icon fontIcon="keyboard_arrow_down" class="ml-2"></mat-icon>
    </div>
  </div>

  <mat-menu #profileMenu="matMenu" xPosition="before" class="max-w-96">
    <div class="mx-2 p-1 rounded bg-white border">
      <div class="flex">
        <div class="w-12">
          <img
            routerLink="/profile"
            class="h-12 w-12 mt-2 ml-2 rounded-full cursor-pointer object-cover"
            [src]="account?.profilePicture ?? 'https://w7.pngwing.com/pngs/205/731/png-transparent-default-avatar.png'"
          />
        </div>
        <div class="ml-6 mb-2 flex-1">
          <div routerLink="/profile" class="mt-2 text-lg font-semibold cursor-pointer hover:text-blue-600">
            {{ account?.fullName }}
          </div>
          <span class="text-gray-500">{{ role ? roleLabels[role] : (authority ? authorityLabels[authority] : '') }}</span>
        </div>
      </div>
      <div class="p-2 max-h-60 text-ellipsis">
        {{ account?.bio || 'Chưa có lời giới thiệu về bản thân' }}
      </div>
    </div>
    <div
      [routerLink]="['/profile']"
      class="m-2 py-2 w-auto cursor-pointer text-center rounded bg-blue-600 text-white hover:bg-blue-400"
    >
      Xem trang cá nhân
    </div>
    <hr class="mt-4 mx-2 border-gray-400" />
    <div
      [routerLink]="['/transactions']"
      class="m-2 w-auto cursor-pointer rounded p-2 text-sm hover:bg-gray-300"
    >
      Lịch sử giao dịch
    </div>
    <div
      *ngIf="isInvestor"
      [routerLink]="['/disbursements/history']"
      class="m-2 w-auto cursor-pointer rounded p-2 text-sm hover:bg-gray-300"
    >
      Lịch sử giải ngân
    </div>
    <div class="mx-2 w-auto cursor-pointer rounded p-2 text-sm hover:bg-gray-300" (click)="logout()">
      Đăng xuất
    </div>
  </mat-menu>
</div>
